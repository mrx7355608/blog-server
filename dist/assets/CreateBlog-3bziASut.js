import{j as e,r as s,M as f}from"./index-CLWBLKRV.js";import{E as j}from"./Editor-XgKjM1iS.js";import{c as y,a as N}from"./blog.services-B9F6rO5L.js";const w=({message:a})=>e.jsx("div",{role:"alert",className:"mb-4 alert alert-success",children:e.jsx("span",{children:a})});function S(){const a=s.useRef(null),[o,g]=s.useState({title:"",tags:"",content:"",is_published:"published",summary:""}),[h,i]=s.useState(!1),[c,m]=s.useState(""),[u,p]=s.useState("");return e.jsxs("div",{className:"py-8",children:[u.length>0&&e.jsx(w,{message:u}),e.jsx("h1",{className:"font-bold text-4xl mb-5",children:"Create Blog"}),e.jsx("input",{onChange:l,className:"input input-bordered input-lg mb-3 w-full",name:"title",type:"text",placeholder:"Title"}),e.jsx(j,{ref:a,apiKey:"w8qyt0vomahy4wblhojsfalcs66u28mso8tatcda4itxkrev",init:{plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",content_css:"/tinymce_darktheme.css"},initialValue:"Write your blog here"}),e.jsx("p",{className:"mt-8 mb-2 text-lg mt-8",children:"Tags"}),e.jsx("input",{className:"input input-bordered w-full",name:"tags",onChange:l,placeholder:"Add tags (separated by comma)"}),e.jsx("p",{className:"mt-8 mb-2 text-lg mt-8",children:"Summary"}),e.jsx("textarea",{className:"input input-bordered w-full",name:"summary",onChange:l,placeholder:"Write brief and concise blog summary"}),e.jsx("p",{className:"mt-8 mb-2 text-lg",children:"Select publishing status"}),e.jsxs("select",{className:"select select-bordered w-full max-w-xs",name:"is_published",onChange:l,children:[e.jsx("option",{value:"published",selected:!0,children:"Published"}),e.jsx("option",{value:"draft",children:"Draft"})]}),c?e.jsx("p",{className:"bg-red-200 text-red-700 text-lg font-medium p-3 w-full mt-3 rounded-md",children:c}):null,e.jsx("button",{onClick:b,className:"mt-8 btn btn-info w-full",children:h?e.jsx(f,{}):"Create blog"})]});function l(n){const{name:r,value:t}=n.target;g({...o,[r]:t})}async function b(){var n,r;i(!0);try{const t=((r=(n=a.current)==null?void 0:n.editor)==null?void 0:r.getContent())||"",x=y(t,o),d=await N(x);if(d.error)return m(d.error);p("Blog created")}catch(t){return m(t.message)}finally{i(!1)}}}export{S as default};
